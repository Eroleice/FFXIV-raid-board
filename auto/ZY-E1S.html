<html>
<style>
html {
	font-size: 12px;
	color: white;
	text-shadow: .1rem 0rem .3rem blue,-.1rem 0rem .3rem blue,0rem .1rem .3rem blue,0rem -.1rem .3rem blue;
}
table {
	width: 100%;
	border:1px solid white;
	font-size: 12px;
}
td {
	text-align: center;
	border:1px solid white;
}
td:hover{
	background-color: black;
}
.position table{
	border: 0px;
}
.position td{
	border: 0px;
}
.timeline {
	margin-left: 10px;
}
</style>
<body>
<table id='p1' style="display: ;">
	<tbody>
		<tr>
			<td colspan="2" style="width:100%;">P1</td>
		</tr>
		<tr>
			<td style="width:45%">
				<div class='position'>
					<table>
						<tr>
							<td style="width:33%"> </td><td style="width:33%">D4/MT</td><td style="width:33%">←H2</td>
 						</tr>
						<tr>
							<td style="width:33%">D3/ST</td><td style="width:33%">BOSS</td><td style="width:33%">D2</td>
						</tr>
						<tr>
							<td style="width:33%">H1↑</td><td style="width:33%">D1</td><td style="width:33%"> </td>
						</tr>
					</table>
				</div>
			</td>
			<td rowspan="3"  style="width:55%;text-align:left;">
				<div class="timeline">
					■ 伊甸重力（AOE）<br>
					■ DPS诱导陷阱<br>
					■ 伊甸核爆（月环）<br>
					■ 双T激光（减伤）<br>
					■ 死刑（MT无敌）<br>
					■ 治疗传毒坦克（减伤）<br>
					■ 净土之光（飞角落）<br>
					■ 三角攻击<br>
					■ 次元转换（AOE）<br>
					■ 远程诱导5连AOE<br>
					■ 8人光球+飞角落<br>
					■ 次元转换（AOE）<br>
					■ 大爆炸（AOE）<br>
				</div>
			</td>
		</tr>
		<tr>
			<td style="width:45%">
				<div class='position'>
					<table>
						<tr>
							<td colspan="5" style="width:100%">三角攻击</td>
						</tr>
						<tr>
							<td style="width:20%">D3</td><td style="width:20%"> </td><td style="width:20%"> </td><td style="width:20%"> </td><td style="width:20%">D4</td>
 						</tr>
						<tr>
							<td style="width:20%"> </td><td style="width:20%">ST</td><td style="width:20%"> </td><td style="width:20%">MT</td><td style="width:20%"> </td>
 						</tr>
						<tr>
							<td style="width:20%"> </td><td style="width:20%"> </td><td style="width:20%">B</td><td style="width:20%"> </td><td style="width:20%"> </td>
 						</tr>
						<tr>
							<td style="width:20%"> </td><td style="width:20%">D1</td><td style="width:20%"> </td><td style="width:20%">D2</td><td style="width:20%"> </td>
 						</tr>
						<tr>
							<td style="width:20%">H1</td><td style="width:20%"> </td><td style="width:20%"> </td><td style="width:20%"> </td><td style="width:20%">H2</td>
 						</tr>
					</table>
				</div>
			</td>
		</tr>
		<tr>
			<td style="width:45%">
				<div class='position'>
					<table>
						<tr>
							<td colspan="3" style="width:100%">诱导光球</td>
						</tr>
						<tr>
							<td style="width:33%">D3</td><td style="width:33%">MT</td><td style="width:33%">D4</td>
 						</tr>
						<tr>
							<td style="width:33%">ST</td><td style="width:33%">BOSS</td><td style="width:33%">D2</td>
						</tr>
						<tr>
							<td style="width:33%">H1↑</td><td style="width:33%">D1</td><td style="width:33%">H2</td>
						</tr>
					</table>
				</div>
			</td>
		</tr>
	</tbody>
</table>
<table id='p2' style="display:none;">
	<tbody>
		<tr>
			<td colspan="2" style="width:100%;">P2</td>
		</tr>
		<tr>
			<td style="width:45%">
				<div class='position'>
					<table>
						<tr>
							<td style="width:33%">ST</td><td style="width:33%">ADD</td><td style="width:33%">MT</td>
 						</tr>
					</table>
				</div>
			</td>
			<td style="width:55%;text-align:left;">
				<div class="timeline">
					■ AOE（南点躲）<br>
					■ 伊甸守护者<br>
					■ 魔力增幅（打断）<br>
					■ 魔力爆发（AOE）<br>
					■ 魔力斩击（顺劈）
				</div>
			</td>
		</tr>
	</tbody>
</table>
<table id='p3' style="display:none;">
	<tbody>
		<tr>
			<td colspan="2" style="width:100%;">P3</td>
		</tr>
		<tr>
			<td style="width:45%">
				<div class='position'>
					<table>
						<tr>
							<td colspan="2" style="width:50%">双T排队分摊</td>
						<tr>
						<tr>
							<td style="width:50%">ST/H1<br>D3/D1</td><td style="width:50%">D2/D4<br>H2/MT</td>
						</tr>
					</table>
				</div>
			</td>
			<td rowspan="4" style="width:55%;text-align:left;">
				<div class="timeline">
					■ ST接BOSS<br>
					■ 复乐园<br>
					■ 双T排队AOE<br>
					■ 4对分摊<br>
					■ 三角攻击（近）<br>
					■ 治疗传毒DPS<br>
					■ 死刑ST无敌<br>
					■ 次元转换（AOE）<br>
					■ 光球诱导+陨石+飞角落<br>
					■ 次元转换（AOE）<br>
					■ 伊甸重力（AOE）<br>
					■ 伊甸核爆（月环）<br>
					■ 双T激光（减伤）<br>
					■ 死刑（MT读条挑衅）<br>
					■ DPS诱导陷阱<br>
					■ 三角攻击<br>
					■ 治疗传毒坦克（减伤）<br>
					■ 次元转换（AOE）<br>
					■ 光球诱导+陨石+飞角落<br>
					■ 次元转换（AOE）<br>
					■ 伊甸重力（AOE）<br>
					■ 伊甸核爆（月环）<br>
					■ 复乐园<br>
					■ 双T排队AOE<br>
					■ 4对分摊<br>
					■ 狂暴					
				</div>
			</td>
		</tr>
		<tr>
			<td style="width:45%">
				<div class='position'>
					<table>
						<tr>
							<td colspan="3" style="width:100%">4对分摊</td>
						</tr>
						<tr>
							<td style="width:33%">D3/ST</td><td style="width:33%"> </td><td style="width:33%">D4/MT</td>
 						</tr>
						<tr>
							<td style="width:33%"> </td><td style="width:33%">BOSS</td><td style="width:33%"> </td>
						</tr>
						<tr>
							<td style="width:33%">H1/D1</td><td style="width:33%"> </td><td style="width:33%">H2/D2</td>
						</tr>
					</table>
				</div>
			</td>
		</tr>
		<tr>
			<td style="width:45%">
				<div class='position'>
					<table>
						<tr>
							<td colspan="3" style="width:100%">三角攻击</td>
						</tr>
						<tr>
							<td style="width:33%">ST</td><td style="width:33%"> </td><td style="width:33%">MT</td>
 						</tr>
						<tr>
							<td style="width:33%"> </td><td style="width:33%">BOSS</td><td style="width:33%"> </td>
						</tr>
						<tr>
							<td style="width:33%"> </td><td style="width:33%">All</td><td style="width:33%"> </td>
						</tr>
					</table>
				</div>
			</td>
		</tr>
		<tr>
			<td style="width:45%">
				<div class='position'>
					<table>
						<tr>
							<td colspan="3" style="width:100%">诱导陷阱</td>
						</tr>
						<tr>
							<td style="width:33%"> </td><td style="width:33%">D4</td><td style="width:33%"> </td>
 						</tr>
						<tr>
							<td style="width:33%">H1</td><td style="width:33%">BOSS</td><td style="width:33%">H2</td>
						</tr>
						<tr>
							<td style="width:33%"> </td><td style="width:33%">D3</td><td style="width:33%"> </td>
						</tr>
					</table>
				</div>
			</td>
		</tr>
	</tbody>
</table>
</body>
<script src="../resources/common.js"></script>
<script>
'use strict';

var stage = "p1";

addOverlayListener('onLogEvent', function(e) {
  for (let i = 0; i < e.detail.logs.length; i++) {
    if (stage === "p1" && e.detail.logs[i].match('\u6781\u5927\u7206\u70b8')) {
		phase('p2');
		stage = "p2";
    } else if (stage === "p2" && e.detail.logs[i].match('\u8fdb\u884c\u6c38\u6052\u5410\u606f\u7684\u53d1\u52a8')) {
		phase('p3');
		stage = "p3";
	} else if (e.detail.logs[i].match('40000012')) {
		phase('p1');
		stage = "p1";
	} else if (e.detail.logs[i].match('\u4efb\u52a1\u7ed3\u675f\u4e86')) {
		phase('p1');
		stage = "p1";
	}
  }
});

callOverlayHandler({ call: 'cactbotRequestState' });

function phase(p){
	document.getElementById("p1").style.display="none";
	document.getElementById("p2").style.display="none";
	document.getElementById("p3").style.display="none";
	document.getElementById(p).style.display="";
}
</script>
</html>
